<mat-form-field
  [formGroup]="group"
  [id]="id"
  color="primary">
  @if (model.label) {
    <mat-label>{{ model.label }}</mat-label>
  }

  @if (model.prefix) {
    <span matTextPrefix>{{ model.prefix }}</span>
  }

  <input
    matInput
    [type]="model.inputType"
    [formControlName]="model.name"
    [placeholder]="model.placeholder"
    [attr.min]="model.min"
    [attr.max]="model.max"
    [attr.minLength]="model.minLength"
    [attr.maxLength]="model.maxLength"
    [pattern]="model.pattern"
    [autocomplete]="model.autocomplete"
    (change)="onChange($event)" />

  @if (showClear) {
    <button
      matSuffix
      mat-icon-button
      (click)="resetControl()">
      <mat-icon fontIcon="clear"></mat-icon>
    </button>
  }

  @if (model.showLoader()) {
    <div
      matSuffix
      class="loader-icon">
      <mat-spinner
        diameter="16"
        color="primary"></mat-spinner>
    </div>
  }

  @if (model.hint) {
    <mat-hint align="start">{{ model.hint }}</mat-hint>
  }

  @if (model.maxLength) {
    <mat-hint align="end">{{ maxCountText }}</mat-hint>
  }

  @for (validator of model.validators; track validator.name) {
    <ng-container ngProjectAs="mat-error">
      @if (hasError(validator.name)) {
        <mat-error>{{ validator.message }}</mat-error>
      }
    </ng-container>
  }
</mat-form-field>
